# AI Assistant ‚Äî –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–µ–ª–æ–≤–æ–π –ø–µ—Ä–µ–ø–∏—Å–∫–∏ –¥–ª—è –±–∞–Ω–∫–∞

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤—Ö–æ–¥—è—â–∏—Ö –ø–∏—Å–µ–º (–∫–ª–∏–µ–Ω—Ç—ã, –ø–∞—Ä—Ç–Ω—ë—Ä—ã, —Ä–µ–≥—É–ª—è—Ç–æ—Ä—ã) –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç –ª–∏—Ü–∞ –±–∞–Ω–∫–∞ —Å —É—á—ë—Ç–æ–º:
- —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–π –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–∏—Å—å–º–∞,
- –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–π, –≤–æ–≤–ª–µ—á—ë–Ω–Ω—ã—Ö –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É,
- –¥–µ–¥–ª–∞–π–Ω–æ–≤ –∏ —Å—Ä–æ—á–Ω–æ—Å—Ç–∏,
- –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π (–¥–æ–≥–æ–≤–æ—Ä—ã, –¥–∞—Ç—ã, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –∫–æ–Ω—Ç–∞–∫—Ç—ã),
- –∫–æ–º–ø–ª–∞–µ–Ω—Å-–ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ Python-–ø–∞–π–ø–ª–∞–π–Ω–∞ (–±–µ–∫–µ–Ω–¥) –∏ –ø—Ä–æ—Å—Ç–æ–≥–æ HTML-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (—Ñ—Ä–æ–Ω—Ç), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ JSON.

---

## –°–∫—Ä–∏–Ω—à–æ—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω

–û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: —Å–ª–µ–≤–∞ –≤—Ö–æ–¥—è—â–µ–µ –ø–∏—Å—å–º–æ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞, —Å–ø—Ä–∞–≤–∞ ‚Äî —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∏–ª—è—Ö.

![–ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω](img/1.png)

### –ë–ª–æ–∫ –∞–Ω–∞–ª–∏–∑–∞ –ø–∏—Å—å–º–∞

–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è, –¥–µ–¥–ª–∞–π–Ω –∏ —Å—Ä–æ—á–Ω–æ—Å—Ç—å, –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (RAG), –∞ —Ç–∞–∫–∂–µ –º–∞—Ä—à—Ä—É—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è –ø–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è–º.

![–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è, –¥–µ–¥–ª–∞–π–Ω—ã, –¥–∞–Ω–Ω—ã–µ –∏ RAG](img/2.png)

### –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∏–ª—è—Ö

**–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å:**

![–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å](img/3.png)

**–ö–ª–∏–µ–Ω—Ç–æ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–∏–ª—å:**

![–ö–ª–∏–µ–Ω—Ç–æ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–∏–ª—å](img/4.png)

**–î–µ–ª–æ–≤–æ–π —Å—Ç–∏–ª—å:**

![–î–µ–ª–æ–≤–æ–π —Å—Ç–∏–ª—å](img/5.png)

**–ö—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç:**

![–ö—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç](img/6.png)

### –£–ø—Ä–∞–≤–ª—è—é—â–∏–µ –∫–Ω–æ–ø–∫–∏

–í–Ω–∏–∑—É ‚Äî –∫–Ω–æ–ø–∫–∏ ¬´–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç¬ª –∏ ¬´–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ¬ª.

![–ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π](img/7.png)

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üß† **NER-–∞–Ω–∞–ª–∏–∑** –≤—Ö–æ–¥—è—â–µ–≥–æ –ø–∏—Å—å–º–∞  
  –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ:
  - –Ω–æ–º–µ—Ä–æ–≤ –¥–æ–≥–æ–≤–æ—Ä–æ–≤,
  - —Å—Ä–æ–∫–æ–≤ –∏ –¥–µ–¥–ª–∞–π–Ω–æ–≤,
  - —Å—Å—ã–ª–æ–∫ –Ω–∞ –∑–∞–∫–æ–Ω—ã / —É–∫–∞–∑–∞–Ω–∏—è –¶–ë,
  - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π,
  - –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (e-mail, —Ç–µ–ª–µ—Ñ–æ–Ω, –§–ò–û).

- **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–∏—Å—å–º–∞**
  - —Ç–∏–ø (–∂–∞–ª–æ–±–∞, –∑–∞–ø—Ä–æ—Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ, —Ä–µ–≥—É–ª—è—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∏ —Ç.–ø.),
  - —Å—Ä–æ—á–Ω–æ—Å—Ç—å,
  - —Ñ–æ—Ä–º–∞–ª—å–Ω–æ—Å—Ç—å,
  - –≤–æ–≤–ª–µ—á—ë–Ω–Ω—ã–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è (—é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –±–ª–æ–∫, —Ñ–∏–Ω–∞–Ω—Å—ã, –¥–æ–≥–æ–≤–æ—Ä—ã —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏ —Ç.–¥.),
  - –Ω–∞–ª–∏—á–∏–µ / –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ —Ä–∏—Å–∫–∞.

- **LLM1 ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—Ç–∏**
  - –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—É—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞ (`core_request`),
  - —è–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è (`requirements`),
  - –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É (`expectations`).

- **LLM2 ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è 4 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞**
  - `official` ‚Äî —Å—Ç—Ä–æ–≥–∏–π –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å,
  - `business` ‚Äî –¥–µ–ª–æ–≤–æ–π —Å—Ç–∏–ª—å,
  - `client_friendly` ‚Äî –±–æ–ª–µ–µ —Ç—ë–ø–ª—ã–π, –∫–ª–∏–µ–Ω—Ç–æ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π,
  - `simple` ‚Äî —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–π —è–∑—ã–∫.  
  –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã ‚Äî —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–µ –ø–∏—Å—å–º–∞ (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–±–∑–∞—Ü–µ–≤), –∞ –Ω–µ –æ–¥–Ω–∞-–¥–≤–µ —Å—Ç—Ä–æ–∫–∏.

- **LLM3 ‚Äî —é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∏ –∫–æ–º–ø–ª–∞–µ–Ω—Å-–ø—Ä–æ–≤–µ—Ä–∫–∞**
  - —Å–º—è–≥—á–µ–Ω–∏–µ –∂—ë—Å—Ç–∫–∏—Ö —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫ –∏ –æ–±–µ—â–∞–Ω–∏–π,
  - –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫ –∫ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º—É –≤–∏–¥—É,
  - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–º—ã—Å–ª–∞ –∏ –æ–±—ä—ë–º–∞ –ø–∏—Å—å–º–∞,
  - —Å–ø–∏—Å–æ–∫ –∑–∞–º–µ—á–∞–Ω–∏–π –ø–æ –∫–∞–∂–¥–æ–º—É –≤–∞—Ä–∏–∞–Ω—Ç—É (`issues`).

- **UI (HTML + JS)**
  - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ö–æ–¥—è—â–µ–≥–æ –ø–∏—Å—å–º–∞,
  - –±–ª–æ–∫ —Å —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–π –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–µ–π, –¥–µ–¥–ª–∞–π–Ω–∞–º–∏, –∫–ª—é—á–µ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏,
  - –º–∞—Ä—à—Ä—É—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è –ø–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è–º,
  - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π –æ—Ç–≤–µ—Ç–∞ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–∏—Å—å–º–∞,
  - –∫–Ω–æ–ø–∫–∞ ¬´–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ¬ª (–¥–µ–º–æ-–ª–æ–≥–∏–∫–∞ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ).

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞

–ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ ‚Äî `pipeline.py`.

–î–ª—è –æ–¥–Ω–æ–≥–æ –ø–∏—Å—å–º–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —à–∞–≥–∏:

1. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∏—Å—å–º–∞**
   - –≤—Ö–æ–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–∏—à–µ—Ç—Å—è –≤ `letter.txt`.

2. **NER (`ner_yandex.py`)**
   - –≤—ã–∑—ã–≤–∞–µ—Ç LLM —á–µ—Ä–µ–∑ API,
   - –ø–∏—à–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ `ner_output.json`, –Ω–∞–ø—Ä–∏–º–µ—Ä:
     ```json
     {
       "contract_numbers": ["–ë–°-1456"],
       "deadlines": [
         { "text": "–≤ —Ç–µ—á–µ–Ω–∏–µ 3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π", "date": null, "type": "relative" }
       ],
       "law_refs": ["–£–∫–∞–∑–∞–Ω–∏–µ –ë–∞–Ω–∫–∞ –†–æ—Å—Å–∏–∏ ‚Ññ55-–£ –æ—Ç 10.04.2024"],
       "contacts": {
         "emails": ["complaints@bank-prim.ru"],
         "phones": ["+7 (495) 123-45-67"],
         "persons": ["–ò–≤–∞–Ω–æ–≤ –ò.–ò."]
       },
       "organizations": ["–ü–ê–û ¬´–ë–∞–Ω–∫ –ü—Ä–∏–º–µ—Ä¬ª"]
     }
     ```

3. **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (`app_final_yandex.py`)**
   - —Ç–∏–ø –ø–∏—Å—å–º–∞, —Å—Ä–æ—á–Ω–æ—Å—Ç—å, —Ñ–æ—Ä–º–∞–ª—å–Ω–æ—Å—Ç—å,
   - —Ü–µ–ª–µ–≤—ã–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è,
   - –ø—Ä–∏–∑–Ω–∞–∫ —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ —Ä–∏—Å–∫–∞,
   - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ `classification_output.json`.

4. **LLM1 (`llm1_yandex.py`)**
   - –∏–∑–≤–ª–µ–∫–∞–µ—Ç:
     ```json
     {
       "core_request": "...",
       "requirements": "...",
       "expectations": "..."
     }
     ```
   - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `llm1_output.json`.

5. **(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) RAG-—Å–∫—Ä–∏–ø—Ç—ã**
   - `rag1_yandex.py` ‚Äî –ø–æ–¥–±–æ—Ä —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ / —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–æ–≤ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π ‚Üí `rag_docs_output.json`.
   - `rag2_yandex.py` ‚Äî –∞–Ω–∞–ª–∏–∑, –∫–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –≤ —Ç–µ–∫—Å—Ç–µ –æ—Ç–≤–µ—Ç–æ–≤ ‚Üí `rag_usage_output.json`.  
   –í –±–∞–∑–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫–∞–∫ ¬´–ø—Å–µ–≤–¥–æ-RAG¬ª —á–µ—Ä–µ–∑ LLM, –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞.

6. **LLM2 (`llm2_yandex.py`)**
   - –Ω–∞ –≤—Ö–æ–¥ –ø–æ–ª—É—á–∞–µ—Ç:
     - `letter.txt`,
     - `ner_output.json`,
     - `classification_output.json`,
     - `llm1_output.json`,
     - –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ ‚Äî `rag_docs_output.json`.
   - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 4 —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞ –æ—Ç–≤–µ—Ç–∞:
     ```json
     {
       "answers": {
         "official": "...",
         "business": "...",
         "client_friendly": "...",
         "simple": "..."
       }
     }
     ```
   - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `llm2_output.json`.

7. **LLM3 (`llm3_yandex.py`)**
   - –ø–æ–ª—É—á–∞–µ—Ç `llm2_output.json` (–∏ –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ RAG),
   - –¥–µ–ª–∞–µ—Ç –∫–æ–º–ø–ª–∞–µ–Ω—Å-–ø—Ä–∞–≤–∫–∏ –∏ –≤—ã–¥–∞—ë—Ç:
     ```json
     {
       "answers": {
         "official": "...",
         "business": "...",
         "client_friendly": "...",
         "simple": "..."
       },
       "issues": {
         "official": ["..."],
         "business": ["..."],
         "client_friendly": ["..."],
         "simple": ["..."]
       }
     }
     ```
   - –ø–∏—à–µ—Ç –≤ `llm3_output.json`.

8. **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è UI (`build_ui_payload.py`)**
   - –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑:
     - `ner_output.json`,
     - `classification_output.json`,
     - `llm2_output.json` / `llm3_output.json`,
     - `rag_docs_output.json`
   - –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –µ–¥–∏–Ω—ã–π —Ñ–∞–π–ª `ui_payload.json`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥.
